<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robotic SDK: DRD - Robotic SDK Documentation</title>
<title>DRD - Robotic SDK Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="index.html"><img alt="Logo" src="logo_color_tiny.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief"></div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DRD - Robotic SDK Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="drd_disclaimer"></a>
Disclaimer</h1>
<p>This release of the DRD is provided "as is", with no warranty of any kind. Force Dimension will accept no responsibility for any damage that result from using this software, including damage to any hardware involved.</p>
<p>Please note that the performance and safety of the robotic regulation provided by the DRD depends on the operating system, execution context and physical hardware used. A background in control theory and real-time programming is strongly recommended prior to writing applications using the DRD.</p>
<p><b>USE AT YOUR OWN RISK</b></p>
<h1><a class="anchor" id="drd_intro"></a>
Introduction</h1>
<p>This document describes the DRD robotics software library. The DRD has been designed specifically to enable robotic control of Force Dimension haptic devices, as well as to make it possible to write applications that combine interactive (haptic) and automatic (robotic) capabilities. As a consequence, the DRD is built alongside the DHD haptic library and shares some fundamental resources with it. It is therefore possible to use DHD calls (<code>dhd*</code>) and DRD calls (<code>drd*</code>) in the same application. For the same reason, this documentation makes direct references to the DHD Haptic SDK documentation.</p>
<p>This section describes how the DRD is structured. Conceptually, the library manages axis <a class="el" href="index.html#drd_regulation">regulation</a> in its own high-priority thread, while all DRD function calls asynchronously control the regulation loop parameters. The DRD library is targeted at real-time platforms to guarantee the performance and safety of the regulation (as well as the users and hardware involved). However, the DRD has been implemented so that it can run with reasonable performance and acceptable safety on <a class="el" href="index.html#drd_non_real_time">non-real time platforms</a>, thanks in part to a <a class="el" href="index.html#drd_instability_detection">control instability detection</a> algorithm.</p>
<h2><a class="anchor" id="drd_regulation"></a>
Regulation</h2>
<p>At the heart of the library is the regulation thread, which constraints the position of each joint. The thread can be started with <a class="el" href="drdc_8cpp.html#a8c60a7b631b9d93a6d170221ee218ba8">drdStart()</a> (after the device has been <a class="el" href="drd_glossary.html#drd_initialization">initialized</a>), and stopped with <a class="el" href="drdc_8cpp.html#ade77036c766bb56856cc71bec666a10f">drdStop()</a>. The refresh rate of the control thread can be retrieved by calling <a class="el" href="drdc_8cpp.html#abd1c925f05a305aae412d0d226d623cf">drdGetCtrlFreq()</a>. Once the the thread is running (which can be assessed with <a class="el" href="drdc_8cpp.html#af94830d653be52e37c8e7cc100cbeb93">drdIsRunning()</a>), the device can only be moved by changing the regulation target of each joint. This can be achieved by calling one of the <code>drdMove*</code> or <code>drdTrack*</code> functions. The <code>drdMove*</code> functions are designed to send the device end-effector on a direct, smooth trajectory to any point in the workspace, while the <code>drdTrack*</code> calls should be used to smoothly constrain the device motion on a continuous trajectory along a set of points sent asynchronously to the control thread (see <a class="el" href="drdc_8cpp.html#a82cda0d3f7fdab444c2f36b0870601ad">drdTrackPos()</a> for more details). The key difference between the two sets of functions is that <code>drdMove*</code> calls do not guarantee continuity if a new call is made before an earlier call finishes. On the other hand, <code>drdTrack*</code> calls do guarantee continuity regardless of when they are invoked. However, <code>drdTrack*</code> trajectory generation is performed on each axis individually, while <code>drdMove*</code> functions generate trajectories in 3D space. Outside of these different behaviors, both <code>drdMove*</code> and drdTrack* calls use a trajectory generation algorithm that guarantees continuous acceleration changes. For more details on the trajectory generation, see the section on <a class="el" href="index.html#drd_trajectory_parameters">trajectory generation parameters</a>.</p>
<h2><a class="anchor" id="drd_trajectory_parameters"></a>
Trajectory Generation Parameters</h2>
<p>The trajectory generation algorithm implemented in the DRD uses triangular acceleration constraints to guarantee smooth movements in both joint and cartesian spaces. The following parameters can be used to change the behavior of the generated trajectories: </p><ul>
<li><b>Amax</b> - the maximal allowed acceleration [m/s^2] </li>
<li><b>Vmax</b> - the maximal allowed velocity [m/s] </li>
<li><b>Jerk</b> - the variation of acceleration over time [m/s^3]</li>
</ul>
<h2><a class="anchor" id="drd_non_real_time"></a>
Non Real-Time Considerations</h2>
<p>On non real-time platforms, the periodicity of the regulation thread cannot be guaranteed. This has direct consequences on control stability and performance. In order to limit the performance degradation, the DRD implements a regulator that does not assume periodicity and can tolerate some jitter in the control loop. In order to optimize the performance of the control thread, <a class="el" href="drdc_8cpp.html#ae996cc68e521481f3cfc4415042e3f84">drdSetPriorities()</a> can be used to change the priority of both the calling and the regulation thread. It must however be emphasized that, by definition, no performance guarantee can be offered on non real-time operating systems, and unpredictable behaviors (including disastrous instability) may occur. In order to prevent hardware damage, the regulation thread uses an internal measure of its own stability. See <a class="el" href="index.html#drd_instability_detection">Control Instability Detection</a> for more details.</p>
<h2><a class="anchor" id="drd_instability_detection"></a>
Control Instability Detection</h2>
<p>During its execution, the regulation thread measures the jitter and delays of each iteration. Short of the thread being fully suspended by the system, these metrics allow the library to detect instability and exit gracefully, while applying the electro-magnetic brakes on the controlled device, in case of dangerous control performance degradation.</p>
<h1><a class="anchor" id="drd_ref"></a>
SDK Function References</h1>
<ul>
<li><a class="el" href="drdc_8cpp.html#a10c1939c7954c7a0b6fdf4223d2629fc">drdOpen()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a94509abb456827419566746b6614339c">drdOpenID()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a3af39f7687134be8dff5e34005f739df">drdSetDevice()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a90097a09571c4e65eef4dd729817f96d">drdGetDeviceID()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a75008f64b3edf15b67d8c91fd17b805b">drdClose()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a8833854426a180ed6248753c78adfe5e">drdIsSupported()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af94830d653be52e37c8e7cc100cbeb93">drdIsRunning()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a4527b0dd1f1d37e8001df9e857c13594">drdIsMoving()</a> </li>
<li><a class="el" href="drdc_8cpp.html#adf5655c0510de20e719dbfc35f80c7a1">drdIsFiltering()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a1cd3148886c1b5c4545df0faabc24ce5">drdGetTime()</a> </li>
<li><a class="el" href="drdc_8cpp.html#aaa5a79a5c29e254ab58fa950a0cbcb34">drdSleep()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ab8b70c0edaf0478a9dbd1d25bf4c7da3">drdWaitForTick()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a18910900d5c035210ce861d0ff25fded">drdIsInitialized()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a36ce945b71cb526dd7e6f2f520e8efee">drdAutoInit()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a64aa9c5d30e765698965e7575903a79a">drdCheckInit()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a8b0fec7a555d1febe32681003df86cdf">drdPrecisionInit()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ac51700a66a6fab4c3d8c817f63814979">drdGetPositionAndOrientation()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af7e5d722323323ff512745fcdb43cf3c">drdGetVelocity()</a> </li>
<li><a class="el" href="drdc_8cpp.html#abd1c925f05a305aae412d0d226d623cf">drdGetCtrlFreq()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a8c60a7b631b9d93a6d170221ee218ba8">drdStart()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a88ed123dae98bf508962fc19401fd82a">drdRegulatePos()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a8ac3d24d63396b7eb2444bff3d229986">drdRegulateRot()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af21b2694d9888ca44abaa4c64345542c">drdRegulateGrip()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a746eb0f313315aac97654c63ad7c75a6">drdSetForceAndTorqueAndGripperForce()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a03d33543035a1a1293faaea820cb4901">drdSetForceAndWristJointTorquesAndGripperForce()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a98a0268cb6b074a9a85870f44b830ca7">drdEnableFilter()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a7681951ccd8d3516f67524923adecadd">drdMoveToPos()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a38339cba33fae86690e73b2a58b131eb">drdMoveToRot()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ae3775028ded7982be0b3383151380832">drdMoveToGrip()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a68bea21d3eaf7c191096cd1257d7d264">drdMoveTo()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ad21adfb3c04037d483de2922c9f2c65f">drdMoveToEnc()</a> </li>
<li><a class="el" href="drdc_8cpp.html#afbf190c4e5988708dec45a10171c4b80">drdMoveToAllEnc()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a82cda0d3f7fdab444c2f36b0870601ad">drdTrackPos()</a> </li>
<li><a class="el" href="drdc_8cpp.html#aa31243732398534bf73427008e90221d">drdTrackRot()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ac200ed4df46df745c2bc0e99cdc099fe">drdTrackGrip()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a570fdf465315f0988d1b7b5a860e1a38">drdTrack()</a> </li>
<li><a class="el" href="drdc_8cpp.html#acde3138153d5b0d2cfb9de6f21b6ce44">drdTrackEnc()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a5b292fa700feea2f4e5fcc970cdfd489">drdTrackAllEnc()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af7cb427f62893ba998be6aec9167fc49">drdHold()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a20f5c0b00c5852529715b9883c0517fa">drdLock()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ade77036c766bb56856cc71bec666a10f">drdStop()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af2d1b17c3e170c4be8a30940da76d028">drdGetPriorities()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ae996cc68e521481f3cfc4415042e3f84">drdSetPriorities()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ae7bb2ce27b1379228e8d70ccdb57ac1e">drdSetEncPGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ad1bd69b37ee42d6cbc57c5bc9e617fb8">drdGetEncPGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a517dfe048feecc3eb0bc63e7b51f7b3c">drdSetEncIGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a2976456c73aecea49b37ca32e51a1c2a">drdGetEncIGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a80c97be3ee4addec4d8be593a158fa18">drdSetEncDGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a271771d4a5eaeaf715a6dab98f34943b">drdGetEncDGain()</a> </li>
<li><a class="el" href="drdc_8cpp.html#ad2fc5419090247c7d291df61fa23529a">drdSetMotRatioMax()</a> </li>
<li><a class="el" href="drdc_8cpp.html#aa80bdb4f94622b3b10285ea88ce5bdb2">drdGetMotRatioMax()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a3421fae79e5978fd996f9d2198b8bbc4">drdSetEncMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a2f0079797b22f4c1c58747b24c2b3e0e">drdSetEncTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#abb4bd510fc957ef83fbc50a465155792">drdSetPosMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af7b8b7b018b08be2d57f56f4c767e164">drdSetPosTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#af3d9a68b80204f2b74dd03e9bac477d6">drdSetRotMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a3abc01ddbcedeb6873f59a5f0975d93c">drdSetRotTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a4fe186e9e786d5661941d520ce07e710">drdSetGripMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a28d5a962c57cb0f70e5ba76ff1427f67">drdSetGripTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a3996e42ce362b72d470d59bbe7fa45db">drdGetEncMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#accba87989d89445777e3d48b94e3d55f">drdGetEncTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a37e95293e7e4d1ff6350f39c96706231">drdGetPosMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a0c1ad61bdc4eeb07281e4d87c8d2a7a7">drdGetPosTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a4931ad3c3dd3d9844ab88ebbdf63c45b">drdGetRotMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a2c0cb74d65955d41672a7adcf6c939cd">drdGetRotTrackParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#a7539c6b04921617d704aa12498b60296">drdGetGripMoveParam()</a> </li>
<li><a class="el" href="drdc_8cpp.html#adc9cd73f0a24b6f84c05acc5caa88405">drdGetGripTrackParam()</a></li>
</ul>
<h1><a class="anchor" id="drd_support"></a>
Technical Support</h1>
<p>Please contact your distributor for any technical support inquiry. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<address class="separator"><hr>
</address>
<address class="footer">
<font size=-2>
<b>Robotic SDK 3.17.6 documentation</b><br>
Please address any questions to <a href="mailto:support@forcedimension.com">support@forcedimension.com</a><br>(C) 2001-2024 - <a href="http://www.forcedimension.com">Force Dimension</a><br>
All Rights Reserved.
</font>
</address>
</body>
</html>
